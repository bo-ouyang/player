var config   = require('./config/config.js');
var utils    = require('./lib/utils.js');
var process  = require("process");
var Db       = require("./lib/Db.js");
var send     = require("./lib/send.js");
var funcLib  = require('./common/function.js');

// 查询数据
let dbConfig = {
	host    : '127.0.0.1',
	port    : 3306,
	database: 'player',
	user    : 'player',
	password: '123456',
	prefix  : 'one_'
};
// 操作表名
var tablename = 'send_library_acgg';
// 表主键
var primaryKey = 'library_id';
// 私钥
var secretKey = `-----BEGIN RSA PRIVATE KEY-----
MIIEpQIBAAKCAQEAs1OUxUhS/kt9QAG/hZvfb/55OLOaV/uJ4Q5k4pxXhfPa2dNR
fxLW3bnTvDk3GlUfslTiMitmPboCNg8zBy+DnwhGNNJ85ZD7XHBzwlJLN+8iBfW0
T/S2fK55Lf5NVKw9Lkq1taI7UZAaBQqglgyJX+oYhqIhMXSzzpi2FM+rf+1NFMZU
js6L/3RFxItmNuYbjaZF6oNqmiNhO524RUmv2tDdcc7zOUvVdBYOmt6lIwQsI2xL
hklQSpMteD341IwiD9JDdQutmQ07Xa+V1wHRMA8/D6OJNp+H9WUysUsnqsIKFIpm
htEqylYIDmOLLlWhxUYthmRr+OVhN/ElNa/TUQIDAQABAoIBAGE4LO2Puj7XGj47
NGPxD3+eDIYrCMAuRJ/Yt+ULMYATplB1ejdUNVzbw+jFdBQ4lgiOcFsWoEVStKQu
NVHt9oOfbsBwZPnoUf3ZkUiGaPUYFe/5Nxop501NIbFHrxD6l+ii5ERmgZZEc3bM
PidbAJcZSNakyy4OwPR+YiiCNc4SJR7XCNr9Ndln3Q3VvLZytrQW27ViLZwpXn7I
bwLMxlsSqLa1X6HtEheAFb0Rz1IgUbSyTLTVZW3wicnYwigKgSDH9GPlxNq0AX5q
dSk+gtILNweM60wQEaTtHtCFXq1Ygocpm2VeC0rGC2+efvwdyemNS3mthxn0V2V+
tZxK82ECgYEA7gN2aSm09XITUUd6N07szS8FmjgOnay99ONzOQLfg/2Eao9Et7as
GcS/bSXM0oSeZXXdV9s9+xeJag57XmHJlZKOV44H8ZRyJGks9cIKM9Dgvvwomtg0
NVNvFPR4o3llHk4LMYRFBRdEK+F1xjjW23NEhqzrz9wdc1vhUPnHTlUCgYEAwODG
6HR9X7AF9vgj6am9WcqQeZN9POECuNGujhuNMdEoZUWNi1zzQWT+fO7iNUXDFZie
v/hThty8F+1WUujVav2J3GXeKUYfnsxrxgbKMVy3m2vjW1yX+4swASK3daIZ3toF
n3PGDsf4NUb0Ul0HLtQ5YjS5hdomyGTUa+y0dQ0CgYEApF2Lxi/hIab3pCeiRNOi
QEf6rHeN0GFchOMVzQco5/OJIDV0FRJ3Yww1zeBOxAqFgDeW9XcYJHAqmy0JETKi
jUI6Pkh9P91tvatMOyMW/JWAvyNPvy8TTsgha+0v6mSI6hanMDjRmSRqFYuLU6oo
5j+B0SdVaaPuSp3myY7UjkkCgYEAv5SE/g/3GDx3MEB5K3b2JWIW7yuYkgfN9FYR
1AV50am3PiA/39WLqcDvJpkBB3krtR/LT1MRZDuMeRe9Ts0Gbyc28Dwe11BXyBu0
URYdb7pwhWg8hFsMe0ZdgENDhwxkNf7I5wDQEY5+9CxuMgFFSTZzaSCFxnZRX2sH
s8uB02ECgYEAuzjXlLmB2tIoW0rtKYNbM+OOghBm7isIRUJn4c0/CXS3BAxVllkS
ErcM1YTXG/ZPGUCchazA46ShJZDitKvz1oR+1GD+NAj8NjVeHML2nrlA3Gt1sMpD
A/mMGK14u5XgS22C1fRmTfbdLB2tyPY1iVjTsKsVwP2fwG+g9r1NaxA=
-----END RSA PRIVATE KEY-----`;

// 允许状态
var enableStatus = 1;
// 不需要地址
var disableAddress =[
	'0x4F12D8ED85f9288E3eB115a292651417527259b1',
	'0x63E24899b14c726060031C3807848216650BD4cE',
	'0x5AB3B419A4D6D8D4De3E737a61b8d7006B84d09d',
	'0x52D51aaD3879f191bf04322267119117d72912F5',
	'0x3eCfBCE17C0F8eDbE9BbE003A355e66D7cfF8593',
	'0x7c588dB388fe99347c395674C12005D7FE7DbA92',
	'0xb38C26B4437E7836E140E200B7f5b3a36a9902A2',
	'0x463a3339246771b2eb5A99806123aA6dbB0644Fc',
	'0x8E9800Db94E4cFFFe8430A1C6db1E473e15de1Ed',
	'0xcA0B294A3575D3e5906AE4d1c4E8D001bACC33DF',
	'0xe8B1892cdE61093feD70B8A11583BB03323D9C44',
	'0x15A9E9A51e10d50B0152d12DfEdA52dDE5F5f24f',
	'0x63200Ba98BA19885cD51E9A14DcE04b76d5BC485',
	'0xD87e27AAD7b10F1F7dd47B7087231E21D4eAa15C',
	'0x6c92DE207d0662D413C94358714a8A17de2257DA',
	'0x6c2a7b6e25843cdd5Ca51dEe37dca309ec211CC0',
	'0x7F29482d2Cea95f280266df251B5F0156e143E37',
	'0x89547dbe6d1cceCba8Ac1D831D6cf7fc2136AEc1',
	'0xaF8C9A26F5cC778eB23BE01D6E310a5d9C6480C7',
	'0x716269Aa449e1f457E582fBab7B809ad18511f89',
	'0xDEa500Ad7eC250b41cB31Dfc292005FA50010beb',
	'0x6B0d728d0287c5785503fB91f225C826A89FB38F',
	'0xCebBe2FB1b8cF09A8ae649bE05B8145cF6D5f624',
	'0x014DCFb15e09322bdB0b8BE8719c0002580413BB',
	'0x893b69ECb6440492898CddAC7E4F286a65d38A7d',
	'0xBed3cF7E46CFA20434161f4D29284FeA92a1fd50',
	'0x9E1059d290f4179DeC2d8baA046eb00A4feF11f2',
	'0xc49B6067FaCf51d49cF45ADf94b6C7b8D3019eF7',
	'0x43ee36953c00E25d226B96ba57Ab814e283Aca54',
	'0x7688930c77bca8a831f54772487eD20537104234',
	'0xCfe0412f2B71CdBCBDf6ccBFF04EA55E2c867858',
	'0x27F81874ef38aD629ccCE24db5cacAf024cB0F48',
	'0x5053057BBC595FdD3aE668062c944dD4170d7187',
	'0xf78dd0355E4fC5FF9476b0Def158841cB2977160',
	'0x62609949FDfb3eb598bDc65e4D9f07Cf4c3284ca',
	'0x14be9a363E79836B32a9bFC1cDB8360500eA69a5',
	'0xdD5D57B63034b4302AF6A4d97780f45fA7e0A083',
	'0xAa37857F2dBb78442BC344F0DC50D2bF11f2f4A8',
	'0x5B5316a7973086810347A31c04F6349070AF0592',
	'0xDEfF96e4ab44A0255c0475854A85b3d4Dd2D47DC',
	'0xe48fF42E367B26eCFC6FE3C9179346475AD8DCDC',
	'0xD81ea63Ad51aD44f61FBF52359247EB82c2cE23B',
	'0xEF23151a0BC6aeB401a726792181bb9b1704B58c',
	'0x886FC92c18C44dE7bcaB4C373a778e2Ba0d41F0A',
	'0x125e7f3616C7Bb939B8F816f77Fe30FaE0A51aBd',
	'0x86A10abd33df53857e03010A5ef7336341E3079C',
	'0x9AD1F8aD50585D4AB48120d4eA5CE10FA7EB7c8C',
	'0x8142a9bBD591482D4352de33A278A77A5eeF5CFE',
	'0x337e3F6B48c5e8D1234313572E5114e9Ed579ef8',
	'0xAfD07CF8B949aeD3c9c322389f3f89b788CE032c',
	'0xCA8eC64FedEa737Def823957d598909C87328a9C',
	'0x4474ED2c6e7574e46E02E4E1c08aD9c3Df6F9D57',
	'0xaa97B1cBAc2d37F585686B46B10d8C419e42fF00',
	'0x7b52c4Dacacfe61904D7A26AE562Dac58dD2DAac',
	'0x58FDd3594B6332D8C2f82e03b25b871200F79e83',
	'0x8B879aaB023f2a2A6DFc947B22e7Ce9ff69B66dB',
	'0x1EecB5495c0d11beEF255d05125a82f59136142a',
	'0x7cD4C123e743389737637fd1B1759C607a15A00E',
	'0xbB1ECa106698EA4ABb34c31B9cfb10C2Eae8B453',
	'0xa258D87427E8c4bAefF4E7D92EC19243Fd044897',
	'0xb4E3e5ABc4335b389B75B3Ca6fFD941F297c005C',
	'0x7A5Abd7c73Ed669a36c46b915e7cF8Cb75253504',
	'0x0781427a6ffee46B863F0aA3F2B73f9720c82C0a',
	'0xe1E1220AD06649f8B0621a0F3Ec7CeEAf12a2B60',
	'0x37ae76e113ab50BDf8570C3EE460E64253092c53',
	'0x41C78D7fB3a22bf60dCcE56A201b483e62f44997',
	'0xdBcE8f99ead51ECFd539BD84DbeDF12A271FCD63',
	'0x059CCeFfbd2E2c93C6113dc22718946aC6372F6f',
	'0x39F2C2ef094fD5039A146335e9ff7901E455ba17',
	'0x364F90f26cE6149f3879aAd936ECCa07781c82d9',
	'0x0Ca87BfBB4CAc4B2D47e0ae892cF8b85a9cb80ea',
	'0x98171c721aD31f2d29e70482E27D8F447376Ba51',
	'0x3Ade8Cabe2ef0215146A49203783b6B36185a831',
	'0x317b919c0D30acab184Edb54e8a16B02FD639C1F',
	'0x7C570A8e99a184A2DCa7D5EcBbA896fF2a30895C',
	'0x345929861B831fa5440C7372fD0758Ecf79DCD40',
	'0x66e78BF9e0874270f37A4D3730486058F21f6e00',
	'0x136D98362Cd2bb8253F2e059C4c67b10A4976BEb',
	'0x36003a96b1FEfF6DE65A35E9274f2c7CF1705D14',
	'0x9D4BB83Ece0093aC951570F5Bd45D03Cf9b73064',
	'0xA0323A6F1B4f85d1618171a2017c2A35e48130F6',
	'0x63c8Be1183f60A7E1b4b9a9Df341ADe008A77d3b',
	'0xf52e49E4F6192E51Dd5F96B09a7915668910ce72',
	'0x5426B7D2c422e52e1bF64451406A2171a6931847',
	'0xad4404e4744E1A9392d4A96a98c6bF14FC2B4431',
	'0x86EC05349AA6B906643FD51413aBBaf0808021C4',
	'0x8e43805b794D66dFcED5A848B3b7435a8290cF2B',
	'0xe1340A17609961a515Fb2c3D21F35fE951fbFE48',
	'0xAa05F09e7C26AE2504A96BA6578da4bF10707910',
	'0x9BAB0014955dd65cC0Ebce95147C7938f0C9a4BA',
	'0xEC5921062E32aaC4822066d80739A88B7395eE04',
	'0x8d9D17A0f4Db97ad334c508dA07F132404008178',
	'0xb956e21C0266Ee8f9f88096C53479bdA0dbbF81b',
	'0x944a7B3128206c2E549805fF8AcBB9D57e5CAdf3',
	'0x52cC66c14DAe859CAfEB8072f000F018F9EBa781',
	'0x095F3F804B367c262977e417AF6Df8C75FA21dC1',
	'0x89158c0439616270C4c9D3D7Ef44540A6311AA9F',
	'0xb72668f2bCa19f3A7f8Bfe6b02e9aA63C69d8332',
	'0x2fe962e782d784499cEf1968fD0aeb93b303e242',
	'0x07cbE05fB4e393A3e33694b7375b4Cb5a164d371',
	'0x9b083bB18b92A1Ef52Cf6043572a70398D2FBfe1',
	'0x55D9A44A6F265F323174423e330CEeC23ca05E4E',
	'0x9d87fcd2C772C65Caec501516de3961A840f9eEC',
	'0x91f3C6341fD2c814778723033420ceBeEAead1D1',
	'0x3c70b5eFA682813Ced4F7c6764d053d3FACccd87',
	'0x27C17c022d4920955f373BcE944537CB7E29D6bc',
	'0xEF85A77a3D2CE82C67476920824EE1df3571464C',
	'0xb9f8AC96f4AE4cd3aC30373E84dfc7D69F8E446F',
	'0xA4AE316c17566eCAebd26E55D8E1d65E502a12b1',
	'0x226CfaDBbCe5c28327Baee604d9f2Ca171D28657',
	'0x4ab9873d4aED9746fFcb1ee78Ea9CD0EE49B6245',
	'0xf9Ef4e6F2cF0E4152023e2EB3dc2e9d902FD9A63',
	'0x5B642D3DA2195Fb57129575F6698E6937AB9a7CB',
	'0x706e85DB71065FDfa5d144Ff1C429EEcDe3937E2',
	'0x186609B113B32fef9a194a2f9A8A29FC8D3af973',
	'0x969b5cfCd2087E83033c6299e3b1e50c0655367e',
	'0xb75A4d861BF8258b334782dE89f20F352dD38373',
	'0x8e2953Dc1eEa2264DDDcCA85716c8994CFDCBA67',
	'0x1880f3eb765B9e6F502B33669dD832fa31dAc67A',
	'0x49d0b8D31A995497DBA0DD96114E82e6a8950d4C',
	'0x18dD6BeBa06b21A8C08fe7e1C0A95aB758281E63',
	'0xB60f2268e26125F4401fe2Ed128c146f12B52175',
	'0x6171e63D494427260520f2Bf7C08e5482B54Cd7D',
	'0x9be75eFfa1D93eB4f11F6030492AB150d9d587C5',
	'0x2284fb2fEec0923130A61F515cb3B2d377b081b6',
	'0xB4dA1B4d237614C12d1A87407483226497CA8B9e',
	'0xA01d9aB89F2Ba092B5b7c073c3c8ec54D869e598',
	'0x7F3F5207Ed6fbf32c3E0904Ee9b7DbEf6d21E049',
	'0xE15d0277E2b5c1Bb75666C0c32019490bc35575E',
	'0x72f64216AAD8e8c9b580a47b56cb502F5e071e67',
	'0x36426dbeAb8320b87505942fBED6eDF871F279E0',
	'0x4C7f1b3Fc43667B7080653544971329f11bb1E88',
	'0xC3FF30Ae0d6E132dDa50dBF9c03d475b34287D68',
	'0x6bA83712ef8556521f84C972E5bd5E8F628F3F0F',
	'0x6Ec6eCc8DDF6E777282510CffADdFf451c357225',
	'0x35400a68EbfD312E589E057CC625507f11E399F1',
	'0x8ba507309069e3C14e52C0e5E6c627419889ca62',
	'0xF48a431eE3065dDf6011D25704c99dd5A11537bE',
	'0x6E180AB9263e1c8fE813910B0E4fE5D3b1967F34',
	'0x910c6345fF200eaa3Bb1558E347a4b8B72b125bA',
	'0x655F499Df945bC9c417cAB71DC4690633252c11a',
	'0x0998427Ac81673c594F3c77E7E5478dD8833e598',
	'0x2f6326721D409704439C4226c02D22223F4dEEC3',
	'0x2E2053aA214729877B6Ca193bE6eAd491D17F67f',
	'0xdAa7fA6789c3Ea872911637fF11F9007a6EeacEf',
	'0xE457E8636Ffd9eb074C84d526acCAd55381F67f2',
	'0x926B07c356A105F8DA46Be3eC9C06B5a9B3445AC',
	'0x0f8022De592618F40bC1b0081c5E243D7470d32E',
	'0x669b1776646E8f66B997b0a32D95b69772D99681',
	'0x2Fefe5D4008DFFcDA83332E967D97AED3A556F22',
	'0x40e6FE1f739528349E8cc98635E757761e97778f',
	'0xAB45149E8d21156D3Eb13a194753A471F213E789',
	'0x5fb193B1aA79538a8C882033a1EE8fC515541D77',
	'0x612b2eABD8BB03d3B2C22e8C011A7E8A428BFd44',
	'0x41E4e9b931ca06e65A56e16136F5638f12CdAE98',
	'0x21214157Ec28231e39b2900A2Bb15641d6685088',
	'0x10a38b8d8AE509554F3de6B63BDA77844A2a7290',
	'0x3887a4FeDeeee6b42f2964ce734b0aE6951c7E65',
	'0x5fE2D82EEa1DCA373D787D775E5C463052673a15',
	'0x5c0F95548b468e68C04D77e080f01d7966389b4d',
	'0x4F3B5b057bdeEa64C1C3156685e26A86a7Fbf833',
	'0x06a721DA7061a396eAfa2f0E7964726CA0285974',
	'0x649fB57D2813926a9A8e142d0EdB0A2316778F4A',
	'0xc18bf50AcE107b7a5907947D559186b6218EC0a6',
	'0x1A6726C6c8C3C529613c1C15E8d44c1b9742f22D',
	'0xAE222CaFb4cddc774D4Dbd8cdCCab3D717d2c818',
	'0x9aeBea23799Cc1C6F2D563fC62227a818fb24636',
	'0x8128805E14e7e9f20430962740EE2aE849869400',
	'0xc79cE1ac671Ffeb7ac8866Fa99d5fA9e465c2a55',
	'0x99a9fd7B65BB199275A825070e998ac16a23eb8B',
	'0xc996D00e4859eaBb21fd78725d068269BECCC64f',
	'0x160415D7517E9A6237E6762b96Dfc48252C044E1',
	'0xA722DB024827b52Ddda3F14f77057a96415FF101',
	'0xafC6e63848eBAC391A2BDf39ABCce9ADc97EF9Fb',
	'0xcCA4382121Ff636D9491d941643284A196A4F733',
	'0xe4137f09Ef9cE9422Ee4D6fD85504ed4E87eEFeE',
	'0x39D932F45B4252954Ad294132f020Eead676C4D5',
	'0x12CFe9312e3771aF35Dc548683B3D30EB8d0dFd1',
	'0x7D1A6Ee2abEF7F18bEa4fd9d30aE6220569f67A0',
	'0xe2d8cA9EA8360d8F452eBE9FDD9dc244b29616B5',
	'0x34Df65fd5f305e940A6Eb22207161741CCC6E651',
	'0x69a06CD19636194be858630140AcAde038aCA8a9',
	'0xB15C075413d07F009a4265E2f9208432dB5F38A7',
	'0x9FFe157fEC5dC1806ebB6814598a4dcd5155ec54',
	'0xAd3519BAbc72260c794f5c0d2e126Fa834DDed70',
	'0x204eCD6918D14f002E4BCD9D1Aa7a9a2c0675A6f',
	'0x8644B70783ee9b4e233506e4Cd5e130E0F3Cdd09',
	'0xC97662af014109dE0d5c12091e3B9C9F8093e135',
	'0xC61D8e99A46B42FC1f459b24728c7A45c3178286',
	'0x592E59A0Ab71033626b5378501a9f3176Be8EA13',
	'0x72351ED516280Ef6ad8811C890A9E78E2A11B988',
	'0xF745A57C7f135b9391b5cf82bfCD1e9F5A8b8b32',
	'0x6de470CA5f8892BE9a4C6916F142c2ceCB1B0cCa',
	'0x93ECB6Fd4Efa0587f83203DaA4062f07a7b433B4',
	'0x2dC7E6369596186eEe817691c0dA417298992032',
	'0x28482076517B9da02a353Ec26B769dB628EFA226',
	'0x571169Aa21A44B3fA9F4B473e0d178cE0c6E433D',
	'0xbcF112C891176cd9E90E2c4D1699973C7A093F7e',
	'0xcfDD58977219Ffb6D0DA0cc5d0f950a6af0C01BF',
	'0x2D54B18a9Dfdeae8249075AF71bCAB880a0fe046',
	'0x9B315a00a4E3976927fd0330FF118588591DF15d',
	'0xD8bDD95F928C1579F94Fb7CddDc9fE4FeB396bbD',
	'0xd4175ee9cEc1647392848Ca3EE81c4D2685F38Cd',
	'0x47A3c42b644609c0B75f7079fcD971Acd756Cb19',
	'0x570Be58cBBC803605D3d01f7c8B64Ba25B9c6015',
	'0x8C76ED42b3368200b291E92c9f052BD94F5ffdC4',
	'0x055B41dba5B9C30b0ABcE3860Cf265C859257dd2',
	'0xb28aFA3755121d971c72E1EE8423c44d110935B9',
	'0x2EDCd9f730E79b916A3ee18D9845Fc9aE9979C4B',
	'0x9ED5C1a1c109833759493580E8C090A857ce7Ec4',
	'0xD6D670336786aD2A74997a9f80f2613b98aCBE06',
	'0xb3Fd68AA4164cA0468CCfAeD357c2a2CDBc30E92',
	'0xca57a78Ef42e37ce7cfE35935C026E924529Ca98',
	'0xC6c75375833E7Da455A1DC38eB39Ab1549E62F87',
	'0x494Fd2443148B6Ff2CdDD74c362E9990f2e05030',
	'0x679D0f8B19Be030310933d2d5f32A8840679a1b3',
	'0x935Ab22262075CCb52489da0C900412e60B958d1',
	'0x20Dd5526cAdbEfdfB0c21A2A906adAE6286515Be',
	'0x106E0c00e3254D786231ef0B02A980C6Ab2B5DDE',
	'0x92b5EDBa28aC147FEB187c80E701d275BABCa694',
	'0x8f8051527A4A5Ab546B685a2ac0B5Cf66c8d8c25',
	'0x2cEf79D0CA61fA1df5654fA3cdB900F1542960E6',
	'0x3e279A229E4C1C937331aF37aD17C1dF147d13CF',
	'0x07366d69FB457745430aDEc6708f0e568DFE3341',
	'0xcEBF805dE33bcC36d27d1dffd38e7e9F20b39c85',
	'0x0DD4ef5316d6ea409E0bEb156a031536eDb9B1A4',
	'0x80B497dC1fed2a0343525a6aBc33af9022E26909',
	'0xCe9E4Bc7E7c97675b88b131Dd0d3e6F899DEEC0A',
	'0x30bcce1Be1BD360C6C46C95591D25995a750ce90',
	'0x48Fe012179f354B1FeE5aDbf41D290FE15030eF2',
	'0x6F41E742fF97F2344D528fA33E6cAdbF823067EE',
	'0x025eF1624aFcbF582652F357b6296c463aF4507C',
	//'0x209A37d6307d3bB93cCd85F7DFcA8ea4dCD73135',
	'0x197445be12107f574C7799874335769BB1FC7E7F',
	'0x5621304A6826bCAd56dbc131Bc8665a8b1E2dE07',
	'0xFB31cC8CFd4F28B85e95Fb89781872578c1F8b95',
	'0x70Aa81f11b21AEC5059Ce81fC155589b7D145105',
	'0x9B905dee03D3ab7bf9DF5B43f5035Ee84fE4B58D',
	'0x3405B5D70c8D3EE7d2d9Bd44166009Ad497584F8',
	'0x21205C85deA36a908D171BE95cc6c42A3dBD70A6',
	'0x1518E3a037d002C911BbDC0dD39098701f40cFbB',
	'0x0e05beE0a1D1BCaa5485f55D26A3A07587EB956b',
	'0xD2E71680DB904b9ddEf215c2987d41C5e02b6233',
	'0x182e5EA80941620b820C8aAE9d1A489AD8939094',
	'0x5AdC39FA190a04b437fFe6c4370e22E803e2205D',
	'0x6be6e122ee5B73fC660F1C7f8605be0AC55487d2',
	'0x4CBc9a2824385Aaa8D89aCc5d8Db334B56823DdD',
	'0x3dccfD875d9ce3F2Be31056fAfc7Aa61Ab011c73',
	'0xBdD19F20E9F46BD645ECBb5F47fE84513c7E2BD1',
	'0x0362a98f13df6db4d3a895b40e82be99b1dd7932',
	'0x95d18a68ec4698f679eb5456cf5bd039ba5d1f60',
	'0xcb5eb9d51762ed19e808005edbeb61db6c5d0fe6',
	'0x870C7650F6fcD8e136B7Bac0D7c2EF495A2894E9',
	'0xD309Ae7cA9C1Da9fc24B6e16fa7d4A041c942D81',
	'0xf96cFA7A1cac3cCE4593a272c3cf3db4D556EbE3',
	'0xe1FB19EA5C8Ad00a3d5D1156ea42F2c85d1D72ef',
	'0xC729F77FDE9B1d1450994cF05a89689424EE668a',
	'0x7bdb7f664A24e2181c3E19134E4828a7cD4BaC49',
	'0x49Ffd863c2aA25D08F97e0376Ef83286AAA71A63',
	'0xa6F597Efa4aEaeCbCff2139b9F9370CF15414195',
	'0xaDe9612EBa5362E5232657FBAb3bB12e5b72B77C',
	'0xB70EA43d9a393Bc533EA171667896AFEF9071cE8',
	'0xF1Ab6a10a4228800f8f68D19283aaF182c313177',
	'0x7A0d03c765f84B4A00d063FDc7FAf78dda901496',
	'0x6c9d9A27Eec9ED6557d66B77fFAE7667be6BBa58',
	'0x18eC3DA3EcA217a0988318c441CF006Fb2843f07',
	'0x50075bAfDa4BCA56c63d70D1bafc0F8a308b9c33',
	'0xC7aBb601BDC77FD11C03bB810552B16BFF2F0821',
	'0xEdAC62E61743F2A36aB3dE70a9dBc76Af5752b86',
	'0xFF476E2af76Fa052503629398bd6af03474fabe3',
	'0x72C4e42cE7E5c7181dc09E61C0DF0Ed2961e711A',
	'0xb3C8Ed52f2B7FF4E127825BB4979d83a3Fa7b99e',
	'0xb6Ff754B00509C75426e85Ea5d73a815B02357a1',
	'0xf745Dae1Ae13b803ccff71D070FfEb6aE0424B55',
	'0xfD63b6d716C02B4D13FE3E9aDAB69a85C00Ac054',
	'0x7CC96087e37ca784a5710dbDD5fdEeF579f8e04F',
	'0xf6f263ABA662aE1f0e20e28Dc703f0825b5d693e',
	'0x6CdB6919902a97529baA1cF2D0f25C9E612a2C89',
	'0x43dd44ac7deE436b361c047B01B4BF504b29690C',
	'0x3bbdF7cF8c2fd9CF4E02Cc6d477F172fb2A26393',
	'0xD2412C7a8fF94965883b5396CfDF13bf6D45da63',
	'0x7A65299704EB44E1Bb5101B6b4Abd9C3bd24a6d1',
	'0x903B52e13e0Ce39F30E7b594e69cad35A1489c35',
	'0xaCe7d2982Dbd5eD16B62066F9CE82ED53A83a9a2',
	'0x00c90995C108064417ae7Ef1E951A103fD5f4FF7',
	'0x9218464Aa172B71795752d074990a4a5dA5e46d2',
	'0x066695A6a2ae5F3348aCb827176d34A4Ae25719b',
	'0xDE16d5EC20A479E1b21443a3f08A2ED603d5C507',
	'0xADf9E479e5ec0553452d4ED8a0213A4b4899AF20',
	'0x3e113dB39e9e77E8F9B328E94dBe651ABc149972',
	'0x5CF383fD6419588BE7D1110fF03786fc24E02858',
	'0xFB7C52552C53732256aE40bCaaDAB3842103D3eb',
	'0xBb7D3b11A65Bd70Aab44a0C65aBe6AB5e59bB674',
	'0x971E363648993a3339c19D96d096B730337E685a',
	'0x6A2aB4C3Ec7990a12d693d76e4A4165d87B49629',
	'0x72b0297E9C9532a466b76bC447F49e5D2e52C0D6',
	'0x07DB3Bd637a4613bd4d695E386A1201DAeDD89Ef',
	'0x2F9487925791605Eff44121e778089AEe6F46BD0',
	'0xF3C7672dE222e57ca84ac328DdCd0dFb3b27f0d3',
	'0xcA1CA9a32c443Df5932dfEd37CD23842bBB2AFc6',
	'0x60FcD3E15F71937F756089EC0A0Ba53C202b299D',
	'0x0e88c53b0D739c983610c5A1Ff06707eACA1Bd0F',
	'0x4f3D2B4a300535873B717434474102c5B130984b',
	'0xFf262fE49481a7356D102A200CAAcC3fEFC97dad',
	'0xAC2aF0d80dE825678B5DB3E1B4E1571AC5838cce',
	'0x884EDd6eB020195B3D89dDf1b61c189dF99187D6',
	'0x89Ab83Bc1C26199c14a861429FF284e0B70cE789',
	'0x108e5DfB6851DD2CD273D8Eb9b4d6f1b6beCA3b8',
	'0x3CA435465B9bD0b8b6b50ca6C9c8614dbb5c05c2',
	'0x997c8a5aE88298BF0A63f071Ed812a93A315EBD3',
	'0xeE0aff774edD696130e79c056C87ee4B1845B22d',
	'0x5B6f8b73deFEd38F2A376fe58F3c724bd0A9A77F',
	'0x274D68ed52ee366B24824ad7f6A31a6fCfa039b4',
	'0xe4b939bBE2c5c4B81a573BF008D4F77B9DB2fA20',
	'0x96eb74253e11cD5bFD0E84f112f872c668D26b5B',
	'0x5D85cc629Ac9a97bEADD5b0c4218ffE719f7199d',
	'0xF5f5b2EDD0D68F71902Dd251534d071d82fD23B7',
	'0x42cE09101AA4DA3eA59B0E7e1F3642C16aB0bDDF',
	'0x95fca69884f6206980ec1b504052cfd35Fe0a109',
	'0xE606cfE819a64887Bccd9d55047E628A67e9273d',
	'0x0c32192280B0164D725af5df1a8b9e3a551Ef55E',
	'0xC44d8114bED2BcCDacf2182f4Db903197d11797F',
	'0xa63694c33AA9c738AE4c3101F5bee2C97D05923C',
	'0xe736D7C158dB4931a70B4492f31AC0534D2a5Eb6',
	'0x4c2eaA04b005778Cf5C6bf6AB2461F707Da8f30d',
	'0x3D4391A85bD1Fe4d3508e313a3ba44A25Ae9FcB3',
	'0xDF5178D2F35b413f3a72f015BB6465621caaE21F',
	'0x13fcEDc612086b719B8477deF9751e238aa825ca',
	'0xD7F9FEA8752bF3ECe64893F998dd4C823b2a0CA3',
	'0x18a1407E3B0C643106575517cbC1C405a063E083',
	'0x0aEE43BE35CB2cBCe8636aD39Db17bC3F364c3Fd',
	'0x698ee47dFE551fFC9c32C9AF90e281D9Aab7e3d1',
	'0xcE2dAFD90FA5270fA4E507Db9f3267A4f184aB82',
	'0xdB0BFDB61002B48aCcf4c6B654800794Bfe0D4E8',
	'0x43Ca802a729E9F4f4440beb01f42524Fa5d14b01',
	'0x1790B5C93D6F1578c321AD0EE6ef972B8C960D96',
	'0x38B7b3722Bc06FAf3158a42747C274d9F1AEb484',
	'0x228F4b7B906D4747Ee85ab7d57BDB6502b404707',
	'0x16ABb48B1b37AF43973Ca8EfbE82eB9643Aefd82',
	'0x0F193fec16d90760d582BA4e142A5c18F7DEf710',
	'0xCa366eecabB30E3DEEaCa97e6C3701f8CAeA66F9',
	'0x8250A766d93e70746fe620d6b16CD4d28D11D263',
	'0x082233d0526715fF7244Ae0175bE02Ca7a33C0A0',
	'0x410900D59F9F159eF231336733Bcd59e151e4518',
	'0xC4D5CE04b4995B11f86A188013B89b266c1Fe986',
	'0x9eA3f27e92bE76d3C8B21a13aC83dCe29852969B',
	'0x0d049B473bdDE37388A8d644212A7a9ae24400a3',
	'0x4439D8B70f2bcCbb9486E16966fCd33FFCd206Db',
	'0xaFef80f6aCae7441c72521fd53f66AAc5F869197',
	'0x904AEc32a80925A0A4cEB003D7fca3eF907Ab5A4',
	'0xAC0A5bA5cE21328224a6632B48816988F7597dBd',
	'0x39BCf4931321626745263b2e76CD4202183981f6',
	'0x6CE38df2A23D073F6780dBf37Cf61630B9149e15',
	'0x873d7e7ce4389447bd3a55407251ef98a54da15a',
	'0x886D4ea4D345Eb5630068Ab81d3372c459CFF6b0',
	'0x37eB25bcb98c243693E3942A7E6E54519102DaE4',
	'0xd506eAE26E3ADEca8E477C1b1d61aFf85B6EBa48',
	'0x6c33895Ceb26B7D15b8632BBD4795c404E84913f',
	'0x1f548b83b0D02a5e5d10C006614162EA3C8BE9E3',
	'0xc2f931459e12bc03ab31b12c2c7647497d87085d',
	'0xf0c3f3204fadd055c9f82abb0d1bc330fae30ae2',
	'0xc96e4886d8f9c575e71054fc4a131ee43d39d852',
	'0xcccd19e0bb30a1b6c15b70d73190828725de2e2c',
	'0x568b38f25064a86B048E7f9D8383745E4bC3EA69',
	'0xEb16b3Aee99ab5aae5F4aDCCD60d946C36c931D9',
	'0x6cf2728e1031Abff364A9303f1EBDe485C6350d4',
	'0xDFadf9696237107af325191441F0af54A11d9b7D',
	'0xDDEeD84ecCc153D140fF028780C28d2f49119A65',
	'0xE8e4E3BcADCDd44757884be5E9362353c1C8d564',
	'0xdDC02f65F7C2B390AAEaf2Cfa0100cDDA1AF7814',
	'0xC6548DCc3d7Fa0b4fE9A7d9c8F044d1d68dD7C2A',
	'0xc79e64cBE3b920a0EC83088936254fA0082bA691',
	'0xa62c087FC2e101472fd0D47ed38498c9F07cD4dC',
	'0x4bC8D16F239F2c473dd1b48311428cdB742081be',
	'0x7dbA76180eb90eECa8416661E2E8678C042ecB9E',
	'0x81e954996a783adf53A3FbC48fD2B7BD93CF10e1',
	'0x9155e329798Cd86F3B6790545C4Bb1350baca65B',
	'0x934BF0B79b4D10EA879C74E9Dc2FF18b94B3c814',
	'0x24fAFBBFf2b9C4327B4DDC8FC954740771e2EAc1',
	'0xBaf7759F63A28841D2f222bD2EafaB667752c678',
	'0x6011ed8b57530435f7599aBA70E454403c49Eb3D',
	'0xC2f13c2D946e9D23eE75f0a4a271c8E16EBd6b0e',
	'0x6bA0E2Dd74215A8db3afaD213145cC69Ceadcb1F',
	'0xB3AfcB05007575AD1297d913Fa5C474e6fD62723',
	'0x749F498De76D259ce4460447a9aF8E42c9afA53E',
	'0xcA314e20c9908A2aFc12C34c867C155340799c94',
	'0x167Fc9eF2eB23Dc2F4c54599116df80f7F19c517',
	'0xa74F974BF333F8AaFc055a941482416D0d50fAc9',
	'0x5e5456033c976eB315fc78304430c9E43C639191',
	'0xF2ca0fa72E076186982231d4Bd19C99D10D6544f',
	'0x1268365A78db82C51c860075341cf2189A375127',
	'0x9335DD58f631346614250637874F1F7ece7E4438',
	'0xbed0f9755f0E57Df17dFc5bfE06A1D6EfddA0630',
	'0x443dfB478e5146653655172baCd6AB2ff5eB3A0E',
	'0x70767CB1ebc1b647101c3e6129F20cA1bBd407Ab',
	'0xfD8FF1feea5E68f211947FF29524F11129220dd5',
	'0xaE2Be044683C9a0A61345a9BfD1395e1D296B0dC',
	'0xC8fcF588F7aCc5150884aB04Ce91d5efE2a850Ce',
	'0x38db4e3217cbc62A605d38dFA39f814f40A26731',
	'0x4231Ba9a2207222f6429d15cae9812D87fF03C71',
	'0x1C4E5c12D3b7571572D2A48155CD84F1A55aB9c0',
	'0x08A955fA141fD4F877F8c4653B0cF5d05aC9a103',
	'0xa3D383212E39a2aa420bC640FE8381Ad4FD1077A',
	'0x92ecf41B4b73495064CF7F8d935f232594ef89c6',
	'0x2506653B5469313cf11E50ba5E78Fd187F68275b',
	'0xB0D463a021094d43f9e9dc8A63912Dfe4972F3Fb',
	'0x805D679ef7823B8407999eD1Bd86040b508aD715',
	'0x2408dcE39Bbe3A59D4924EacdbC2f8cBdeaE3694',
	'0xe8C81BD81C6e4fB10fb4C0bfDE37e7De877f8bE4',
	'0xED61dfb15e761E7eBB07B439FA85827AbfACf7D7',
	'0xb8d1A47214d1a14015F732d02A81a41eC7318929',
	'0x71fD2e99817C87f25D244C45d40c46Ce3DF853A5',
	'0x7F1c7162593d6405c1690f5e56949d3596891465',
	'0x0c268729dA699B0f7D6DdBe4a728962A36c1A1AC',
	'0x656b11548545C7dc8d974E370436846DFE57ed01',
	'0x4169F5d38a8158785E3513bc9D7D8c9532559820',
	'0xD2f03574BC640eB3e6C895Bd985F47ac5E1ACd2D',
	'0x745617399A075223e5605aE629658dcDF3e7C61D',
	'0xEb82671E8a2cBFF9D6124E13e593C80c459DDf1F',
	'0xba27EDac409cEfa451ADc84C8b4c05635e0Ab44E',
	'0xFbF92c6c4913e5082250623f5037b371A443b260',
	'0x2cA169113d9B17a0E26AF586A960A3ECe8A683e5',
	'0x1B3254b38Ba55dc22C16B43928Bc5E08e27ea50d',
	'0x2b070bF8bD3A0C387ae63eeF42A2C96C5482F133',
	'0xFfEdbbDD6a91fE540560aA924e5a3b1d82009F8F',
	'0x8Ff373F7640D6A38f4076541ccaBDe105398753f',
	'0xE09a2765855C2B85e57c3a91ac421f1B6e15d1C1',
	'0x222Ac2F80F85757dCf1a33748e071f36a2C924C8',
	'0xcC5EBA8a2aa829920861D1E7191bC585377FE49D',
	'0x10f56b42ea1bd8bb6ec7db0cbeb9244480d586f8',
	'0x1f4c1464648939216651c6e1a9ff08d0788801f2',
	'0xc04f7ed40f65c4fc7133da64da4aeae4a006437c',
	'0x274e4d1d16546Ef4DbC69351b522AF3d91fF8605',
	'0x4aAfD717593E538246F1C0a31ab096DF87bAAbe2',
	'0xEe9Bc6E61b238E904bDD7f21Af70Fe594C8aA5d3',
	'0x2660F6e0Ec6932C4bC59e3AB972929BfA267BA97',
	'0xfa0Adc9DF543996122cc24cdd83Da3077cDD2Ae0',
	'0xf07Ab90845644d599c285aD3DdC3485778c2AdE4',
	'0x35EaCb4d45E2d5C1339B795c6c1fF38E5f83cB1b',
	'0x270958f257f22aF1F0bc286f48C2fEE099b762Ec',
	'0x3e539cb1f5f6982ccB69562C6F4f21B2cd6F45A8',
	'0x2C51b3c4Dfab3F1820d5ecC2482b4317A43D386D',
	'0x53C72a2514AB741c1eDa87ADADadBaDEC31d54bD',
	'0x5303076183ca07c91c3d0519a183d8ef0335f3e7',
	'0x94d49aC92774453f1bB69344528BCF0B4411189F',
	'0xEf452838FAfa50648469347D44970c57e1c3db3E',
	'0xE5d1cF6d14bE0F17ae6C6FBbf3Fa1d01344c197E',
	'0x951dE32D3865816E0B02C9Ce7e770B2094E94b9D',
	'0x1236b92E69795f5194a46bF62bD1E2A8A0F85dD7',
	'0x3DBa5678F04255b4F53BCdCDf9569A9980831Ed8',
	'0xB3495E525dE11A103c98FA8B4c141Bb0aE2Ac5a2',
	'0xdCe2CE055111CF5e6f3bC94fb74329b685c6d34A',
	'0xba85EBA35f1CdaC36638F8648c0047cc8E05478E',
	'0x069dB13EbDDB014fd56fe52Cc4893B053F4fC3f0',
	'0x27bD191E7f4c392caCb017D365251D0e8cd19411',
	'0xc22779037cadc1af02383ae13fa88dffd7e35d6f',
	'0x29D249A9865ED306BC7459c9C952419ff8C82eB8',
	'0xa54f58C7B8Bf94C370073C6B8c039cc8B4E2103B',
	'0x81f1D94731148626375a73EBE590EF5fc92C7cc1',
	'0x91E6D4F239a45ba920B2e7E31feAE4c34F1415B9',
	'0x5a9164CA505A7ff03c5228c77F562bba72a144E0',
	'0x9694539596Ee2ba117E04db68312bBF3Bde693A9',
	'0x227192acD718D41A39C9b2f13E628F9dFe06D68d',
	'0x8c948528c10da90587f1e011a9116803c2629C70',
	'0xE2BF090BB9Dec53372D37CcE9A9355Daa490ed1F',
	'0x45f04Ed637e768D12A080B38d86B671ff4c84f70',
	'0xAbc2E367103AEc3Cc0584dAcc2A103A93C676Ba2',
	'0x61bBDa52b86b15D17A6E663bdAD23E9091738118',
	'0x8C7b772043CCAe15047e287B6cc5e1465072ea21',
	'0xEEb28f4EE7D537bc57c356a9BAdC69496a8CE4A4',
	'0xC13f83c6d86C75B4106BC7d07637757f75D696C4',
	'0xB8b4c6787B19383EAE2850EADA9a239E868d7e50',
	'0xDec449B4E5a2Bef11bCAF56AB89CDFC0EdfCB234',
	'0x61ebEE747Fa62829D15CCafe91DAa6B77a62FC05',
	'0x4Fb0b4Acdd6D6e2aaC5c638f0bB52B8560BD0a26',
	'0xdBbe109cb81D345cb2015959045A46E1F39434BE',
	'0x4F47f2558EDf5E0186B174Fe39808e07Da75c4ff',
	'0xB96a8A27fEAe493e4AbcBbf8943b4a7a252c1413',
	'0x0c86944C81afF330Fbf932EA693bce6Cc8e63aaE',
	'0xCae657999754402326016B11AbCb0a2978378F47',
	'0x7d745e907473EF7856b0Ed83d8c0faaE363C3d43',
	'0xCA25f9e0d2E603F9AB9184AAd2F2B5D5e8d3384e',
	'0xf7dd1fe2767BAE2162bBeFD51a1D7715CdC54700',
	'0xf5dEC74B56cf0d8094292df05a051A01413b82C5',
	'0x22789724Dd808fB78C7FDA37816429A3F3E032A4',
	'0x193F4e0E96976A8d7f58B430B384311afA51019C',
	'0x6C9296ec04447DC036D44412A1c116832A24fd3E',
	'0xcaE3e9BF684fD9c2d280EDfC88DaC33F6059cedc',
	'0x165a6F45e26ddf0592d1E7017e42EFAE126b2FF5',
	'0x9C9c1F517a0AE7D3506eB459FB17ea5754D27C2a',
	'0xB8aE6FC71015E77Ed246446cbc87BE69B377DE83',
	'0x25c34849CcC9173e92c2F41C4F505B95ce34Da70',
	'0x6974540b24e4a792d95F5BB144DA37D9617f7CE7',
	'0x2fB5c69C801eEF95995601c772dB27A7d084b9E0',
	'0xFAD957533953B792FA59b7a42B8f1fe17908E0C0',
	'0x8A1B441B57e8A545Bcfd4ede147a9493CD65f2F7',
	'0x24666C008928C2bC93A351cD5496C2F2F8C9F190',
	'0x5318f16b6E7dDd75c126836EDFEc543b783b5eA8',
	'0x977A8F70aA8B3946ea25b14952e6B86d66A8b435',
	'0x24df7eE3aBaec60D8E2ecf7564519bf1cC20600b',
	//'0x70579308fa5A205DD72f3a6A3A8c8A0ffED8578B',
	'0x5F8a5C4e76b954947218D2CB17c5B0E8F0d47fd2',
	'0xD8c955D9C4a01c03e3E16F0C7CA018D1144C1604',
	'0x5D5145A0596529a15bfe7Befa90c8c0a4FeAdF51',
	'0xc14804584835Ad932E1A5f0365cC1F2Ed9E8f3D0',
	'',
	//'0x764FC44641AA050EBE45213Bc0C00926a199eD03', //新用户地址
	//'0xdAf7eC33247b351FfA582bF34043ecf9cC9B558a',
	//'0x4e681E1bdbaA84E381DA22416D9Ee8e6BD97D96B',
	//'0x717eC42554baA127495ccE1bca2ec0992db8F53c',
	//'0x9c9ED1a75473d8B8e38430f8a28284Bd0664468a',
	//'0x3906446041794d24784A8dEcef6fB9Fc8D33bCb0',
	//'0x4E747A51fa0CEDf50B20ba95A4D3B6aeb68b7511',
	//'0x24df7eE3aBaec60D8E2ecf7564519bf1cC20600b',
	//'0x5318f16b6E7dDd75c126836EDFEc543b783b5eA8',
	//'0x2314ac3976FeB44fEd284F5AAbb265311640f546',
	//'0x4C7c6fF95D7faF97a36E06D3b2D926FEe3958185',
	//'0xAd91Ef03d409AbE24326Bf82BCBAAe38B6511Be3',
	//'0x96c677AF2c6397F6486b8e2aD5b84e6926d339f4'
];
disableAddress = utils.caseArray(disableAddress, 1);
// 允许发放的地址
var enableAddress =[
	//'0xAd91Ef03d409AbE24326Bf82BCBAAe38B6511Be3'
];
enableAddress = utils.caseArray(enableAddress, 1);

//禁止发放的地址
var lastDisable=[
	//'0xAd91Ef03d409AbE24326Bf82BCBAAe38B6511Be3'
];
lastDisable = utils.caseArray(lastDisable, 1);

// 取得新禁止地址集合
var newDisableList = [];
disableAddress.forEach(function(v, i) {
	if (!enableAddress.includes(v)) {
		newDisableList.push(v);
	}
});

lastDisable.forEach(function(v, i) {
	newDisableList.push(v);
});

// 类型
var typeList = {
	income: 1,
	cash  : 2
};
if (process.argv.length < 3) {
	console.log('please enter the command to operate');
	process.exit();
}
// node app.js arg1 arg2 arg3 取得这三个参数
console.log('command argv：', process.argv);
// 获取操作名称
var operate = process.argv[2];
let opList = ['send', 'total'];
if (!opList.includes(operate)) {
	console.log('command argv error!');
	process.exit();
}

var addrOpreate = process.argv[3];
if (operate == 'send' && (!addrOpreate || typeof addrOpreate == 'undefined')) {
	console.log('command send argv error!');
	process.exit();
}

// addrOpreate => owner one two three
// 发送地址
var fromList = {
	one: {
		from: '0x5AB3B419A4D6D8D4De3E737a61b8d7006B84d09d',
		prikey: '64ab33ad3c8a90b87e410899af195bc72f2999f7067dfa78551adcf3c8249c97'
	},
	two: {
		from: '0x5AB3B419A4D6D8D4De3E737a61b8d7006B84d09d',
		prikey: '64ab33ad3c8a90b87e410899af195bc72f2999f7067dfa78551adcf3c8249c97'
	},
	three: {
		from: '0x5AB3B419A4D6D8D4De3E737a61b8d7006B84d09d',
		prikey: '64ab33ad3c8a90b87e410899af195bc72f2999f7067dfa78551adcf3c8249c97'
	}
};
var prikey = '';
var from = '';

if (operate == 'send') {
	if (addrOpreate != 'owner') {
		let fromData = fromList[addrOpreate];
		prikey = fromData.prikey;
		from = fromData.from;
	} else {
		// 密钥
		prikey = '64ab33ad3c8a90b87e410899af195bc72f2999f7067dfa78551adcf3c8249c97';
		// 地址
		from = '0x5AB3B419A4D6D8D4De3E737a61b8d7006B84d09d';
	}

	if (from == '' || prikey == '') {
		console.log('command send argv error!');
		process.exit();
	}
}

// 每次发送条数
var limitSize = 100000;
var batchCount = 100;

var db = new Db(dbConfig);

var etherapi = require('./lib/etherapi.js');
new Promise(function(resolve, reject) {
	if (operate != 'total') {
		db.table(config.log_table).where({from: from}).order('create_time desc').find(function(hashData) {
			resolve(hashData);
		});
	} else {
		resolve(false);
	}
}).then(hashData => {
}).then(() => {

	var nowTime = new Date();
	let searchTime = new Date(nowTime.getFullYear(), nowTime.getMonth(), nowTime.getDate(), 18, 0, 0).getTime() / 1000;
	let condition = 'create_time <= ' + searchTime;

	db.table(tablename).where(condition).limit(limitSize).select(function(result) {
		if (result.length <= 0) {
			console.log('no data need to transfer!');
			process.exit();
			return;
		}

		var delIds = [];
		var totalAmount = 0;
		var transferList = {};
		var excelData = [];
		if (operate == 'total') {
			excelData.push(['address', 'amount', 'type']);
		}

		result.forEach(function(v, i) {
			let address = utils.decrypt(v.address, secretKey);
			let amount  = utils.decrypt(v.amount, secretKey);
			//let address = v.address;
			//let amount  = v.amount;
			if (!amount || !address) {
				console.log('address or amount decode error');
				process.exit();
				return;
			}

			let dataId  = result[i][primaryKey];
			address = address.toLowerCase();

			if (amount && address && utils.isAddress(address) && v.status == enableStatus && !newDisableList.includes(address)) {
				// 合并地址
				if (!transferList.hasOwnProperty(address)) {
					transferList[address] = {
						id   : [],
						type : typeList.income,
						value: 0,
						to   : address
					};
				}
				transferList[address].id.push(dataId);
				transferList[address].value = utils.numAdd(transferList[address].value, amount);
				totalAmount = utils.numAdd(totalAmount, amount);
				let tmpType = (v.type == typeList.income) ? 'income' : 'cash';
				let tmpValue = utils.numDiv(amount, Math.pow(10,18));

				console.log('address '+address+' type '+tmpType+' amount '+tmpValue+' id '+dataId+' !');
				if (operate == 'total') {
					excelData.push([address, tmpValue, tmpType]);
				}
			} else {
				// 删除数据
				delIds.push(dataId);
				console.log('address '+address+' is system default address or data error!');
			}
		});

		if (delIds.length > 0) {
			console.log('delete system address id is:');
			console.log(delIds);
			var search = "`" + primaryKey + "`" + ' in (' + delIds.join(',') + ')';
			var delDb = new Db(dbConfig);
			var r = delDb.table(tablename).where(search).delete(function(rows) {
				console.log('delete system address count is ' + rows);
				if (!rows) {
					console.log('database operate error!');
					process.exit();
					return;
				}
				delDb.end();
			});
		}

		db.end();
		if (totalAmount <= 0) {
			console.log('no data need to transfer!');
			process.exit();
			return;
		}

		if (operate == 'total') {
			console.log('total transfer origin amount is ' + totalAmount);
			let tmpAmount = utils.numDiv(totalAmount, Math.pow(10,18));
			console.log('total transfer amount is ' + tmpAmount);
			console.log('total count is ' + Object.keys(transferList).length);

			excelData.push(['total transfer amount', tmpAmount, '']);
			excelData.push(['total transfer count', Object.keys(transferList).length, '']);
			let filename = funcLib.getDateUnifide();
			var reg = new RegExp(":" , "g");
			filename = filename.replace(reg, '-');
			var reg2 = new RegExp(" " , "g");
			filename = filename.replace(reg2, '-');

			utils.writeExcel(excelData, filename + '.xlsx');
			process.exit();
			return;
		} else {
			console.log('start batch transfer token');
			// 开始转账
			send.init(from, prikey, dbConfig, tablename, primaryKey, true, function() {
				let addressList = Object.keys(transferList);
				for (let index = 0;index < addressList.length; index++) {
					if (index > batchCount) {
						break;
					}
					let tmpAddress = addressList[index];
					console.log(transferList[tmpAddress]);
					send.addTask(transferList[tmpAddress]);
					//console.log('init success start trans')
					//return false;
					send.send();
				}
			});
		}
	});

});
